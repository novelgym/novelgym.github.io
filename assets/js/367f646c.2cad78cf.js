"use strict";(self.webpackChunkng_website=self.webpackChunkng_website||[]).push([[236],{1415:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var o=t(5893),i=t(1151);const s={sidebar_position:3},a="Implementing Novelties",r={id:"environment/novelty",title:"Implementing Novelties",description:"To implement a novelty, you need a config file and optionally one or more python files, such as when a new object or action is being introduced. To see how these files are integrated in the project structure, go to novelties/evaluation1.",source:"@site/docs/environment/novelty.md",sourceDirName:"environment",slug:"/environment/novelty",permalink:"/docs/environment/novelty",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Creating Your Environment",permalink:"/docs/environment/custom"},next:{title:"Examples of Objects & Actions",permalink:"/docs/environment/objectsactions"}},l={},c=[{value:"<code>.yaml</code> Config",id:"yaml-config",level:2},{value:"<code>.py</code> Modules",id:"py-modules",level:2},{value:"Usage",id:"usage",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"implementing-novelties",children:"Implementing Novelties"}),"\n",(0,o.jsxs)(n.p,{children:["To implement a novelty, you need a config file and optionally one or more python files, such as when a new object or action is being introduced. To see how these files are integrated in the project structure, go to ",(0,o.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/tree/main/novelties/evaluation1",children:"novelties/evaluation1"}),"."]}),"\n",(0,o.jsxs)(n.h2,{id:"yaml-config",children:[(0,o.jsx)(n.code,{children:".yaml"})," Config"]}),"\n",(0,o.jsxs)(n.p,{children:["The novelty config file has the same layout as the config file that describes the environment, see ",(0,o.jsx)(n.a,{href:"custom",children:"Creating Your Environment"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"For any changes that appear in the environment at the first time step,  the keys are introduced directly. If any key is already in the base environment config, the contents in the new config will be appended to those in the old config."}),"\n",(0,o.jsxs)(n.p,{children:["For an example, see the fire novelty below from ",(0,o.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/novelties/evaluation1/fire/fire_crafting_table.yaml",children:"novelties/evaluation1/fire/fire_crafting_table.yaml"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["In this example, notice how the ",(0,o.jsx)(n.code,{children:"nop_placeholder"})," instances can be reassigned to new actions."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"---\nobject_types:\n  water_bucket: novelties.evaluation1.fire.floating_obj.FloatingObj\n  bucket: novelties.evaluation1.fire.floating_obj.FloatingObj\n  crafting_table: novelties.evaluation1.fire.obj_on_fire.ObjOnFire\nactions:\n  craft: \n    module: novelties.evaluation1.fire.craft.FireAwareCraft\naction_sets:\n  main:\n  - nop_placeholder1 -> approach_water_bucket\n  - nop_placeholder2 -> select_water_bucket\nobjects:\n  water_bucket:\n    quantity: 1\n    room: 2\n    chunked: False\n"})}),"\n",(0,o.jsxs)(n.p,{children:["For any changes introduced at a later time step, novelties are nested under the ",(0,o.jsx)(n.code,{children:"novelties"})," key and a key specifying at which time step the novelty is introduced."]}),"\n",(0,o.jsxs)(n.p,{children:["For an example, see the busy traders novelty below from ",(0,o.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/novelties/evaluation1/busy_traders/busy_traders.yaml",children:"novelties/evaluation1/busy_traders/busy_traders.yaml"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"}),": Wrap the number specifying the time step in single or double quotes."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"---\nnovelties:\n  '0':\n    actions:\n      trade:\n        module: novelties.evaluation1.busy_traders.trade_busy.BusyTrade\n        busy_ratio: 0.5\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"py-modules",children:[(0,o.jsx)(n.code,{children:".py"})," Modules"]}),"\n",(0,o.jsx)(n.p,{children:"Any new python modules can be listed as source code for a novelty. There is no syntactical difference between python files defining modules in the base environment and python files defining novelty modules."}),"\n",(0,o.jsxs)(n.p,{children:["For detail on how to implement new objects and actions, see ",(0,o.jsx)(n.a,{href:"objectsactions",children:"Examples of Objects & Actions"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsxs)(n.p,{children:["Any new novelty must be listed as a key-value pair in the ",(0,o.jsx)(n.code,{children:"NOVELTIES"})," dict in ",(0,o.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/36f78f5e25475a43a8a83627939a5744d0a42c0c/config.py",children:"config.py"}),". The key is the novelty's name used for the ",(0,o.jsx)(n.code,{children:"--novelty"})," flag of ",(0,o.jsx)(n.code,{children:"train.py"}),", and the value is the relative path to the novelty's config file."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var o=t(7294);const i={},s=o.createContext(i);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);