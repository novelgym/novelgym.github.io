"use strict";(self.webpackChunkng_website=self.webpackChunkng_website||[]).push([[133],{1463:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var i=t(5893),o=t(1151);const s={sidebar_position:2},a="Creating Your Environment",r={id:"environment/custom",title:"Creating Your Environment",description:"In the previous part of the tutorial, Keyboard Demo, we ran the script manualnoveltytest1.py to try out the keyboard agent for the NovelGym environment. Like manualsanitychecker.py, the script designed for loading a trained model and seeing what action the model selects, and train.py, the script used for training, manualnoveltytest1.py creates the environment from the polycraftgymmain.yaml config file.",source:"@site/docs/environment/custom.md",sourceDirName:"environment",slug:"/environment/custom",permalink:"/docs/environment/custom",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Keyboard Demo",permalink:"/docs/environment/demo"},next:{title:"Implementing Novelties",permalink:"/docs/environment/novelty"}},c={},l=[{value:"Layout",id:"layout",level:2},{value:"Objects",id:"objects",level:2},{value:"Entities",id:"entities",level:2},{value:"Actions",id:"actions",level:2},{value:"Goal",id:"goal",level:2},{value:"Training",id:"training",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"creating-your-environment",children:"Creating Your Environment"}),"\n",(0,i.jsxs)(n.p,{children:["In the previous part of the tutorial, ",(0,i.jsx)(n.a,{href:"demo",children:"Keyboard Demo"}),", we ran the script ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/manual_novelty_test1.py",children:"manual_novelty_test1.py"})," to try out the keyboard agent for the NovelGym environment. Like ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/manual_sanity_checker.py",children:"manual_sanity_checker.py"}),", the script designed for loading a trained model and seeing what action the model selects, and ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/train.py",children:"train.py"}),", the script used for training, ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/manual_novelty_test1.py",children:"manual_novelty_test1.py"})," creates the environment from the ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/config/polycraft_gym_main.yaml",children:"polycraft_gym_main.yaml"})," config file."]}),"\n",(0,i.jsxs)(n.p,{children:["In this part of the tutorial, we examine those keys of the config file that can be modified towards creating a simple custom environment without having to write any additional code. Examples are provided. Later parts of the tutorial cover the creation of entities, such as objects and actions in ",(0,i.jsx)(n.a,{href:"objectsactions",children:"Examples of Objects & Actions"}),", and spaces, namely in ",(0,i.jsx)(n.a,{href:"../agent/spaces",children:"Defining Spaces"}),", from scratch. The section ",(0,i.jsx)(n.a,{href:"novelty",children:"Implementing Novelties"})," includes how anything can become a novelty to the agent."]}),"\n",(0,i.jsx)(n.h2,{id:"layout",children:"Layout"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"map_size"})}),"\n",(0,i.jsx)(n.p,{children:"Width and height in cells of the gridworld navigated by the agent."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"map_size: `[16, 16]`\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"rooms"})}),"\n",(0,i.jsx)(n.p,{children:"Coordinates of the upper-left and lower-right corner of each room. Where rooms overlap on a row or column, a wall with a door is created."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"rooms:\n  '1':\n    start: [0, 0]\n    end: [10, 10]\n  '2':\n    start: [10, 0]\n    end: [15, 15]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"objects",children:"Objects"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"object_types"})}),"\n",(0,i.jsx)(n.p,{children:"Source modules, break cost, and collect cost of the object types in the game."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"object_types:\n  tree_tap:\n    module: gym_novel_gridworlds2.contrib.polycraft.objects.TreeTap\n    collect_cost: 50000\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"objects"})}),"\n",(0,i.jsxs)(n.p,{children:["Quantity and location of the objects initially placed in the environment. The ",(0,i.jsx)(n.code,{children:"chunked"})," key set to ",(0,i.jsx)(n.code,{children:"True"})," places all objects of the same type next to each other."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"objects:\n  oak_log:\n    quantity: 5\n    room: 2\n    chunked: 'False'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"entities",children:"Entities"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"entities"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"agent"})," key takes the source of behaviour for the agent: ",(0,i.jsx)(n.code,{children:"KeyboardAgent"}),", ",(0,i.jsx)(n.code,{children:"RandomAgent"}),", or a more complex setting for an RL agent such as in ",(0,i.jsx)(n.a,{href:"https://github.com/tufts-ai-robotics-group/NovelGym/blob/main/config/polycraft_gym_rl.yaml",children:"config/polycraft_gym_rl.yaml"}),". See ",(0,i.jsx)(n.a,{href:"../agent/combining",children:"Combining Planning & RL Agents"})," for more detail on integrating intelligent agents."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"entity"})," key represents the source code of the agent and the ",(0,i.jsx)(n.code,{children:"id"})," is a unique identifier of an entity and is used in actions, such as ",(0,i.jsx)(n.code,{children:"approach_entity_<id>"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"action_set"})," key attributes to the entity one of the actions sets specified under the key ",(0,i.jsx)(n.code,{children:"action_sets"}),". Multiple entities can share the same action set."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"room"})," key stands for the room the entity is placed in at the start of the game. Analogously, the ",(0,i.jsx)(n.code,{children:"inventory"})," key specifies what the entity has in their inventory at the start of the game, and the inventory is variable throughout the game."]}),"\n",(0,i.jsxs)(n.p,{children:["In the case of intelligent agents, ",(0,i.jsx)(n.code,{children:"max_step_cost"})," specifies the maximum cost that can be incurred on the agent at any step."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"entities:\n  main_1:\n    agent: gym_novel_gridworlds2.agents.KeyboardAgent\n    name: entity.polycraft.Player.name\n    type: agent\n    entity: gym_novel_gridworlds2.contrib.polycraft.objects.PolycraftEntity\n    action_set: main\n    inventory:\n      iron_pickaxe: 1\n      tree_tap: 1\n    id: 0\n    room: 2\n    max_step_cost: 100000\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"trades"})}),"\n",(0,i.jsxs)(n.p,{children:["The input and output of a trade and the ",(0,i.jsx)(n.code,{children:"id"})," of the trader with whom this trade can be executed."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"trades:\n  block_of_titanium_1:\n    input:\n      block_of_platinum: 1\n    output:\n      block_of_titanium: 1\n    trader:\n    - 103\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"auto_pickup_agents"})}),"\n",(0,i.jsx)(n.p,{children:"List of ids of those entities that are to automatically collect all objects around them at each time step."}),"\n",(0,i.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"actions"})}),"\n",(0,i.jsxs)(n.p,{children:["Source modules and step cost of actions possible in the environment. In the case of actions involving interactions with other agents, the ",(0,i.jsx)(n.code,{children:"entity_id"})," must be provided. Compound actions include ",(0,i.jsx)(n.code,{children:"break_<object>"}),", ",(0,i.jsx)(n.code,{children:"approach_<object/entity>"}),", ",(0,i.jsx)(n.code,{children:"interact_<entity>"}),", ",(0,i.jsx)(n.code,{children:"select_<object>"}),", ",(0,i.jsx)(n.code,{children:"craft_<object>"}),", ",(0,i.jsx)(n.code,{children:"trade_<object>"}),". Notice ",(0,i.jsx)(n.code,{children:"nop_placeholder"}),", a placeholder for a novelty action."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"actions:\n  break_block:\n    module: gym_novel_gridworlds2.contrib.polycraft.actions.Break\n    step_cost: 3600\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"action_sets"})}),"\n",(0,i.jsx)(n.p,{children:"Unique sets of actions that can be attributed to any entity. Any set of actions can be shared by entities."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"action_sets:\n  main:\n  - collect\n  - break_block\n  - approach_oak_log\n  - select_oak_log\n  - deselect_item\n  - craft_stick\n  - nop_placeholder1\n  - give_up\n"})}),"\n",(0,i.jsx)(n.h2,{id:"goal",children:"Goal"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"recipies"})}),"\n",(0,i.jsxs)(n.p,{children:["Input, output, and step cost of all the recipies the agent can craft. In the base implementation includes the recipe for the ",(0,i.jsx)(n.code,{children:"pogo_stick"}),", the goal craft of the game."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"recipies:\n  pogo_stick:\n    input:\n    - stick\n    - block_of_titanium\n    - stick\n    - diamond\n    - '0'\n    - '0'\n    - '0'\n    - rubber\n    - '0'\n    output:\n      pogo_stick: 1\n    step_cost: 8400\n"})}),"\n",(0,i.jsx)(n.h2,{id:"training",children:"Training"}),"\n",(0,i.jsx)(n.p,{children:"All of the below keys take integer values."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"sleep_time"})}),"\n",(0,i.jsx)(n.p,{children:"Time delay after each environment step."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"time_limit"})}),"\n",(0,i.jsx)(n.p,{children:"Limit on how many steps the agent can take in attempting the goal during training."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"seed"})}),"\n",(0,i.jsx)(n.p,{children:"For the reproducibility of the experiment run."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"num_episodes"})}),"\n",(0,i.jsx)(n.p,{children:"Number of episodes to run."})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var i=t(7294);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);